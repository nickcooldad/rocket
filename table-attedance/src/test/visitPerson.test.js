import { visitPerson } from "../visitPerson/visitPerson";

describe('visitPerson', () => {

    test('vacation1', () => {
      const vacation1 = [
            ["21.04.24", "24.04.24"],
            ["06.05.24", "13.05.24"],
            ["24.05.24", "08.06.24"],
            ["28.06.24", "18.07.24"],
            ["28.12.23", "04.01.24"],
          ];

      const result = {
        2024 : {
          1 : new Set([1, 2, 3, 4]),
          4 : new Set([21, 22, 23, 24]),
          5 : new Set([6, 7, 8, 9, 10, 11, 12, 13, 24, 25, 26, 27, 28, 29, 30, 31]),
          6 : new Set([1, 2, 3, 4, 5, 6, 7, 8, 28, 29, 30, 31]),
          7 : new Set([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]),
        },
        2023 : {
          12 : new Set([28, 29, 30, 31]) 
        }
      };
   
    expect(visitPerson(vacation1)).toEqual(result);
  })

  test('vacation2', () => {
    const vacation2 = [
      ['29.12.24', '05.01.25'],
      ['01.01.2024', '01.03.2024']
    ]

    const result = {
      2024 : {
        1: new Set([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]),
        2 : new Set([1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]),
        3 : new Set([1]),
        12 : new Set([29, 30, 31]),
      },
      2025 : {
        1 : new Set([1, 2, 3, 4, 5])
      }
    }

      expect(visitPerson(vacation2)).toEqual(result)
    }
  )
  })


